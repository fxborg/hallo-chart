(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],d=0,u=[];d<o.length;d++)s=o[d],i[s]&&u.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var h=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},"45db":function(t,e,n){"use strict";var a=n("95ac"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("85f2"),i=n.n(a),r=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-container",attrs:{id:"app"}},[n("index")],1)},o=[],c=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-item"},[n("div",{attrs:{id:"chart"}})])}],h=n("db0c"),d=n.n(h),u={name:"Chart",data:function(){return{options:{margin:{top:50,right:50,bottom:50,left:20},height:0,width:0}}},mounted:function(){this.renderCharts()},beforeUpdate:function(){this.renderCharts()},methods:{renderCharts:function(){var t,e,n=this,a=this.options.margin,i=Math.max(document.documentElement.clientWidth,window.innerWidth),r=Math.max(document.documentElement.clientHeight,window.innerHeight);i<=768?(t=i-a.left-a.right,e=.5*r-a.top-a.bottom):(t=.75*i-a.left-a.right,e=r-a.top-a.bottom),this.options.width=t,this.options.height=e,this.options.selector="#chart",this.options.title="Bar Chart!",this.options.beginDate=new Date(2018,4,31),this.options.endDate=new Date(2019,1,1);var s="sample-data-vea.json";this.$d3.json(s).then(function(t){var e=t["chart"]["result"][0],n=e["indicators"]["quote"][0];return{dividends:d()(e["events"]["dividends"]).map(function(t){return{date:new Date(1e3*t["date"]),yield:t["amount"]}}),quote:e["timestamp"].map(function(t,e){return{date:new Date(1e3*t),high:n["high"][e],low:n["low"][e],open:n["open"][e],close:n["close"][e],volume:n["volume"][e]}})}}).then(function(t){n.$helpers.chart.addChart(n.$d3,t,n.options)})}}},p=u,f=(n("45db"),n("2877")),m=Object(f["a"])(p,c,l,!1,null,null,null),y=m.exports,g={name:"app",components:{index:y}},x=g,v=(n("034f"),Object(f["a"])(x,s,o,!1,null,null,null)),w=v.exports,b=n("5698"),S={install:function(t){t.prototype.$helpers={chart:{d3:{},currentData:{},margin:{},width:0,height:0,xScale:void 0,yScale:void 0,xAxis:void 0,yAxis:void 0,zoom:void 0,addChart:function(t,e,n){this.d3=t,this.margin=n.margin,this.width=n.width,this.height=n.height;var a=n.beginDate,i=n.endDate,r=e["quote"].filter(function(t){return t["high"]&&t["low"]&&t["close"]&&t["open"]});this.currentData=r.filter(function(t){if(t["date"])return t["date"]>=a&&t["date"]<i});var s=this.d3.min(this.currentData,function(t){return t["date"]}),o=this.d3.max(this.currentData,function(t){return t["date"]}),c=this.d3.min(this.currentData,function(t){return t["close"]}),l=this.d3.max(this.currentData,function(t){return t["close"]});this.xScale=this.d3.scaleTime().domain([s,o]).range([0,this.width]),this.yScale=this.d3.scaleLinear().domain([c-5,l+4]).range([this.height,0]);var h=this.d3.select("#chart").append("svg").attr("width",this.width+this.margin["left"]+this.margin["right"]).attr("height",this.height+this.margin["top"]+this.margin["bottom"]).append("g").attr("transform","translate(".concat(this.margin["left"],", ").concat(this.margin["top"],")"));this.xAxis=h.append("g").attr("class","xAxis").attr("transform","translate(0, ".concat(this.height,")")).call(this.d3.axisBottom(this.xScale)),this.yAxis=h.append("g").attr("class","yAxis").attr("transform","translate(".concat(this.width,", 0)")).call(this.d3.axisRight(this.yScale)),h.append("g").attr("id","leftAxis").attr("transform","translate(0, 0)"),this.addCrosshair(h),h.append("g").attr("id","ohlc-series").attr("clip-path","url(#clip)"),h.exit().remove(),this.updateChart()},addCrosshair:function(t){var e=t.append("g").attr("class","focus").style("display","none");e.append("circle").attr("r",4.5),e.append("line").classed("x",!0),e.append("line").classed("y",!0),t.append("rect").attr("class","overlay").attr("width",this.width).attr("height",this.height),this.d3.select(".overlay").style("fill","none").style("pointer-events","all"),this.d3.selectAll(".focus line").style("fill","none").style("stroke","#67809f").style("stroke-width","1.5px").style("stroke-dasharray","3 3")},updateChart:function(){this.d3.select(".xAxis").call(this.d3.axisBottom(this.xScale)),this.d3.select(".yAxis").call(this.d3.axisRight(this.yScale)),this.updateCrosshairProperties(),this.addOhlcBars()},addOhlcBars:function(){var t=this,e=3,n=this.d3.line().x(function(t){return t["x"]}).y(function(t){return t["y"]}),a=this.d3.select("#ohlc-series").selectAll(".ohlc").data(this.currentData,function(t){return t["volume"]});a.join(function(a){var i=a.append("g").attr("class","ohlc").append("g").attr("class","bars").classed("up-bar",function(t){return t["close"]>t["open"]}).classed("down-bar",function(t){return t["close"]<=t["open"]});i.append("path").classed("high-low",!0).attr("d",function(e){return n([{x:t.xScale(e["date"]),y:t.yScale(e["high"])},{x:t.xScale(e["date"]),y:t.yScale(e["low"])}])}),i.append("path").classed("open-tick",!0).attr("d",function(a){return n([{x:t.xScale(a["date"])-e,y:t.yScale(a["open"])},{x:t.xScale(a["date"]),y:t.yScale(a["open"])}])}),i.append("path").classed("close-tick",!0).attr("d",function(a){return n([{x:t.xScale(a["date"]),y:t.yScale(a["close"])},{x:t.xScale(a["date"])+e,y:t.yScale(a["close"])}])})})},updateCrosshairProperties:function(){var t=this,e=this.d3.select(".overlay"),n=this.d3.select(".focus");e.exit().remove(),e.enter().append("g").attr("class","focus").style("display","none"),e.attr("class","overlay").attr("width",this.width).attr("height",this.height).on("mouseover",function(){return n.style("display",null)}).on("mouseout",function(){return n.style("display","none")}).on("mousemove",function(e,n,a){return t.generateCrosshair(a[n])})},generateCrosshair:function(t){var e=this.d3.select(".focus"),n=this.d3.bisector(function(t){return t.date}).left,a=this.xScale.invert(this.d3.mouse(t)[0]),i=n(this.currentData,a,1),r=this.currentData[i-1],s=this.currentData[i],o=a-r["date"]>s["date"]-a?s:r;e.attr("transform","translate(".concat(this.xScale(o["date"]),", ").concat(this.yScale(o["close"]),")")),e.select("line.x").attr("x1",0).attr("x2",this.width-this.xScale(o["date"])).attr("y1",0).attr("y2",0),e.select("line.y").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",this.height-this.yScale(o["close"]))}}}}};r["a"].config.productionTip=!1,r["a"].use(S),i()(r["a"].prototype,"$d3",{value:b}),new r["a"]({render:function(t){return t(w)}}).$mount("#app")},"64a9":function(t,e,n){},"95ac":function(t,e,n){}});
//# sourceMappingURL=app.6576a812.js.map